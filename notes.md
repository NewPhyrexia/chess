# My notes

```[https://sequencediagram.org/index.html#initialData=actor%20Client%0Aparticipant%20Server%0Aparticipant%20RegistrationService%0Aparticipant%20DataAccess%0Adatabase%20db%0A%0Aentryspacing%200.9%0Agroup%20%23navy%20Registration%20%23white%0AClient%20-%3E%20Server%3A%20%5BPOST%5D%20%2Fuser%5Cn%7Busername%2C%20password%2C%20email%7D%0AServer%20-%3E%20RegistrationService%3A%20register(username%2C%20password%2C%20email)%0ARegistrationService%20-%3E%20DataAccess%3A%20getUser(username)%0ADataAccess%20-%3E%20db%3A%20SELECT%20username%20from%20user%0ADataAccess%20--%3E%20RegistrationService%3A%20null%0ARegistrationService%20-%3E%20DataAccess%3A%20createUser(username%2C%20password)%0ADataAccess%20-%3E%20db%3A%20INSERT%20username%2C%20password%2C%20email%20INTO%20user%0ARegistrationService%20-%3E%20DataAccess%3A%20createAuth(username)%0ADataAccess%20-%3E%20db%3A%20INSERT%20username%2C%20authToken%20INTO%20auth%0ADataAccess%20--%3E%20RegistrationService%3A%20authToken%0ARegistrationService%20--%3E%20Server%3A%20authToken%0AServer%20--%3E%20Client%3A%20200%5Cn%7BauthToken%7D%0Aend%0A%0Agroup%20%23orange%20Login%20%23white%0AClient%20-%3E%20Server%3A%20%5BPOST%5D%20%2Fsession%5Cn%7Busername%2C%20password%7D%0Aend%0A%0Agroup%20%23green%20Logout%20%23white%0AClient%20-%3E%20Server%3A%20%5BDELETE%5D%20%2Fsession%5CnauthToken%0Aend%0A%0Agroup%20%23red%20List%20Games%20%23white%0AClient%20-%3E%20Server%3A%20%5BGET%5D%20%2Fgame%5CnauthToken%0Aend%0A%0Agroup%20%23purple%20Create%20Game%20%23white%0AClient%20-%3E%20Server%3A%20%5BPOST%5D%20%2Fgame%5CnauthToken%5Cn%7BgameName%7D%0Aend%0A%0Agroup%20%23yellow%20Join%20Game%20%23black%0AClient%20-%3E%20Server%3A%20%5BPUT%5D%20%2Fgame%5CnauthToken%5Cn%7BClientColor%2C%20gameID%7D%0Aend%0A%0Agroup%20%23gray%20Clear%20application%20%23white%0AClient%20-%3E%20Server%3A%20%5BDELETE%5D%20%2Fdb%0Aend%0A](https://sequencediagram.org/index.html#initialData=actor%20Client%0Aparticipant%20Server%0Aparticipant%20Services%0Aparticipant%20DataAccess%0Adatabase%20db%0A%0Aentryspacing%200.9%0Agroup%20%23navy%20Registration%20%23white%0AClient%20-%3E%20Server%3A%20%5BPOST%5D%20%2Fuser%5Cn%7Busername%2C%20password%2C%20email%7D%0AServer%20-%3E%20Services%3A%20register(username%2C%20password%2C%20email)%0AServices%20-%3E%20DataAccess%3A%20getUser(username)%0ADataAccess%20-%3E%20db%3A%20SELECT%20username%20from%20user%0ADataAccess%20--%3E%20Services%3A%20null%0AServices%20-%3E%20DataAccess%3A%20createUser(username%2C%20password)%0ADataAccess%20-%3E%20db%3A%20INSERT%20username%2C%20password%2C%20email%20INTO%20user%0AServices%20-%3E%20DataAccess%3A%20createAuth(username)%0ADataAccess%20-%3E%20db%3A%20INSERT%20username%2C%20authToken%20INTO%20auth%0ADataAccess%20--%3E%20Services%3A%20authToken%0AServices%20--%3E%20Server%3A%20authToken%0AServer%20--%3E%20Client%3A%20200%5Cn%7BauthToken%7D%0Aend%0A%0Agroup%20%23orange%20Login%20%23white%0AClient%20-%3E%20Server%3A%20%5BPOST%5D%20%2Fsession%5Cn%7Busername%2C%20password%7D%0AServer%20-%3EServices%3A%20loginUser(username%2C%20password)%0AServices-%3EDataAccess%3A%20getUser(username)%0ADataAccess-%3Edb%3ASELECT%20username%20from%20auth%0ADataAccess%20--%3E%20Services%3A%20error%0AServices%20--%3EServer%3A%20error%0AServer%20--%3EClient%3A%20400%2F403%2F500%5Cnerror%0ADataAccess%20--%3EServices%3A%20validUser%0AServices%20-%3E%20DataAccess%3A%20createAuth(username)%0ADataAccess%20-%3E%20db%3A%20INSERT%20username%2C%20authToken%20INTO%20auth%0ADataAccess%20--%3E%20Services%3A%20authToken%0AServices%20--%3EServer%3A%20authToken%0AServer%20--%3EClient%3A%20200%5Cn%7BauthToken%7D%0Aend%0A%0Agroup%20%23green%20Logout%20%23white%0AClient%20-%3E%20Server%3A%20%5BDELETE%5D%20%2Fsession%5CnauthToken%0AServer%20-%3EServices%3A%20endSession(authToken)%0AServices-%3EDataAccess%3A%20endUserSession(authToken)%0ADataAccess-%3Edb%3ASELECT%20username%20from%20auth%0ADataAccess%20--%3E%20Services%3A%20error%0AServices%20--%3EServer%3A%20error%0AServer%20--%3EClient%3A%20401%2F500%5Cnerror%0ADataAccess%20--%3E%20Services%3A%20success%0AServices%20--%3EServer%3A%20success%0AServer%20--%3EClient%3A%20200%5Cnsuccess%0Aend%0A%0Agroup%20%23red%20List%20Games%20%23white%0AClient%20-%3E%20Server%3A%20%5BGET%5D%20%2Fgame%5CnauthToken%0AServer%20-%3EServices%3AlistGames(authToken)%0AServices-%3EDataAccess%3A%20verifyUser(authToken)%0ADataAccess-%3Edb%3ASELECT%20username%20from%20auth%0ADataAccess%20--%3E%20Services%3A%20error%0AServices%20--%3EServer%3A%20error%0AServer%20--%3EClient%3A%20401%2F500%5Cnerror%0ADataAccess%20--%3E%20Services%3A%20validUser%0AServices-%3EDataAccess%3A%20getGames(authToken)%0ADataAccess-%3Edb%3ASELECT%20*%20in%20game%0ADataAccess%20--%3E%20Services%3A%20games%0AServices%20--%3EServer%3A%20games%0AServer%20--%3EClient%3A%20200%5Cn%7Bgames%7D%0Aend%0A%0Agroup%20%23purple%20Create%20Game%20%23white%0AClient%20-%3E%20Server%3A%20%5BPOST%5D%20%2Fgame%5CnauthToken%5Cn%7BgameName%7D%0AServer%20-%3EServices%3AcreateGame(authToken%2C%20%7BgameName%7D)%0AServices-%3EDataAccess%3AverifyUser(authToken)%0ADataAccess-%3Edb%3ASELECT%20*%20from%20auth%0ADataAccess%20--%3E%20Services%3A%20error%0AServices%20--%3EServer%3A%20error%0AServer%20--%3EClient%3A%20400%2F401%2F500%5Cnerror%0ADataAccess%20--%3E%20Services%3AAuthData%0AServices-%3EDataAccess%3A%20createGame(gameName)%0ADataAccess-%3Edb%3AINSERT%20gameName%2FgameID%20into%20game%0ADataAccess%20--%3E%20Services%3A%20gameID%0AServices%20--%3EServer%3A%20gameID%0AServer%20--%3EClient%3A%20200%5Cn%7BgameID%7D%0Aend%0A%0Agroup%20%23yellow%20Join%20Game%20%23black%0AClient%20-%3E%20Server%3A%20%5BPUT%5D%20%2Fgame%5CnauthToken%5Cn%7BClientColor%2C%20gameID%7D%0AServer%20-%3EServices%3A%20checkUser(authToken%2C%20%7BClientColor%2C%20gameID%7D)%0AServices-%3EDataAccess%3A%20verifyUser(authToken)%0ADataAccess-%3Edb%3ASELECT%20username%20from%20auth%0ADataAccess%20--%3E%20Services%3A%20error%0AServices%20--%3EServer%3A%20error%0AServer%20--%3EClient%3A%20401%2F500%5Cnerror%0ADataAccess--%3EServices%3A%20user%0ADataAccess%20--%3E%20Services%3A%20games%0AServices%20--%3EServer%3A%20games%0AServer%20--%3EClient%3A%20200%5Cn%7Bgames%7D%0Aend%0A%0Agroup%20%23gray%20Clear%20application%20%23white%0AClient%20-%3E%20Server%3A%20%5BDELETE%5D%20%2Fdb%0AServer-%3EServices%3AdeleteDB()%0AServices-%3EDataAccess%3A%20clearDB()%0ADataAccess-%3Edb%3A%20DELETE%20auth%0ADataAccess-%3Edb%3A%20DELETE%20game%0ADataAccess-%3Edb%3A%20DELETE%20user%0Aend%0A)https://sequencediagram.org/index.html#initialData=actor%20Client%0Aparticipant%20Server%0Aparticipant%20Services%0Aparticipant%20DataAccess%0Adatabase%20db%0A%0Aentryspacing%200.9%0Agroup%20%23navy%20Registration%20%23white%0AClient%20-%3E%20Server%3A%20%5BPOST%5D%20%2Fuser%5Cn%7Busername%2C%20password%2C%20email%7D%0AServer%20-%3E%20Services%3A%20register(username%2C%20password%2C%20email)%0AServices%20-%3E%20DataAccess%3A%20getUser(username)%0ADataAccess%20-%3E%20db%3A%20SELECT%20username%20from%20user%0ADataAccess%20--%3E%20Services%3A%20null%0AServices%20-%3E%20DataAccess%3A%20createUser(username%2C%20password)%0ADataAccess%20-%3E%20db%3A%20INSERT%20username%2C%20password%2C%20email%20INTO%20user%0AServices%20-%3E%20DataAccess%3A%20createAuth(username)%0ADataAccess%20-%3E%20db%3A%20INSERT%20username%2C%20authToken%20INTO%20auth%0ADataAccess%20--%3E%20Services%3A%20authToken%0AServices%20--%3E%20Server%3A%20authToken%0AServer%20--%3E%20Client%3A%20200%5Cn%7BauthToken%7D%0Aend%0A%0Agroup%20%23orange%20Login%20%23white%0AClient%20-%3E%20Server%3A%20%5BPOST%5D%20%2Fsession%5Cn%7Busername%2C%20password%7D%0AServer%20-%3EServices%3A%20loginUser(username%2C%20password)%0AServices-%3EDataAccess%3A%20getUser(username)%0ADataAccess-%3Edb%3ASELECT%20username%20from%20auth%0ADataAccess%20--%3E%20Services%3A%20error%0AServices%20--%3EServer%3A%20error%0AServer%20--%3EClient%3A%20400%2F403%2F500%5Cnerror%0ADataAccess%20--%3EServices%3A%20validUser%0AServices%20-%3E%20DataAccess%3A%20createAuth(username)%0ADataAccess%20-%3E%20db%3A%20INSERT%20username%2C%20authToken%20INTO%20auth%0ADataAccess%20--%3E%20Services%3A%20authToken%0AServices%20--%3EServer%3A%20authToken%0AServer%20--%3EClient%3A%20200%5Cn%7BauthToken%7D%0Aend%0A%0Agroup%20%23green%20Logout%20%23white%0AClient%20-%3E%20Server%3A%20%5BDELETE%5D%20%2Fsession%5CnauthToken%0AServer%20-%3EServices%3A%20endSession(authToken)%0AServices-%3EDataAccess%3A%20endUserSession(authToken)%0ADataAccess-%3Edb%3ASELECT%20username%20from%20auth%0ADataAccess%20--%3E%20Services%3A%20error%0AServices%20--%3EServer%3A%20error%0AServer%20--%3EClient%3A%20401%2F500%5Cnerror%0ADataAccess%20--%3E%20Services%3A%20success%0AServices%20--%3EServer%3A%20success%0AServer%20--%3EClient%3A%20200%5Cnsuccess%0Aend%0A%0Agroup%20%23red%20List%20Games%20%23white%0AClient%20-%3E%20Server%3A%20%5BGET%5D%20%2Fgame%5CnauthToken%0AServer%20-%3EServices%3AlistGames(authToken)%0AServices-%3EDataAccess%3A%20verifyUser(authToken)%0ADataAccess-%3Edb%3ASELECT%20username%20from%20auth%0ADataAccess%20--%3E%20Services%3A%20error%0AServices%20--%3EServer%3A%20error%0AServer%20--%3EClient%3A%20401%2F500%5Cnerror%0ADataAccess%20--%3E%20Services%3A%20validUser%0AServices-%3EDataAccess%3A%20getGames(authToken)%0ADataAccess-%3Edb%3ASELECT%20*%20in%20game%0ADataAccess%20--%3E%20Services%3A%20games%0AServices%20--%3EServer%3A%20games%0AServer%20--%3EClient%3A%20200%5Cn%7Bgames%7D%0Aend%0A%0Agroup%20%23purple%20Create%20Game%20%23white%0AClient%20-%3E%20Server%3A%20%5BPOST%5D%20%2Fgame%5CnauthToken%5Cn%7BgameName%7D%0AServer%20-%3EServices%3AcreateGame(authToken%2C%20%7BgameName%7D)%0AServices-%3EDataAccess%3AverifyUser(authToken)%0ADataAccess-%3Edb%3ASELECT%20*%20from%20auth%0ADataAccess%20--%3E%20Services%3A%20error%0AServices%20--%3EServer%3A%20error%0AServer%20--%3EClient%3A%20400%2F401%2F500%5Cnerror%0ADataAccess%20--%3E%20Services%3AAuthData%0AServices-%3EDataAccess%3A%20createGame(gameName)%0ADataAccess-%3Edb%3AINSERT%20gameName%2FgameID%20into%20game%0ADataAccess%20--%3E%20Services%3A%20gameID%0AServices%20--%3EServer%3A%20gameID%0AServer%20--%3EClient%3A%20200%5Cn%7BgameID%7D%0Aend%0A%0Agroup%20%23yellow%20Join%20Game%20%23black%0AClient%20-%3E%20Server%3A%20%5BPUT%5D%20%2Fgame%5CnauthToken%5Cn%7BClientColor%2C%20gameID%7D%0AServer%20-%3EServices%3A%20checkUser(authToken%2C%20%7BClientColor%2C%20gameID%7D)%0AServices-%3EDataAccess%3A%20verifyUser(authToken)%0ADataAccess-%3Edb%3ASELECT%20username%20from%20auth%0ADataAccess%20--%3E%20Services%3A%20error%0AServices%20--%3EServer%3A%20error%0AServer%20--%3EClient%3A%20401%2F500%5Cnerror%0ADataAccess--%3EServices%3A%20user%0ADataAccess%20--%3E%20Services%3A%20games%0AServices%20--%3EServer%3A%20games%0AServer%20--%3EClient%3A%20200%5Cn%7Bgames%7D%0Aend%0A%0Agroup%20%23gray%20Clear%20application%20%23white%0AClient%20-%3E%20Server%3A%20%5BDELETE%5D%20%2Fdb%0AServer-%3EServices%3AdeleteDB()%0AServices-%3EDataAccess%3A%20clearDB()%0ADataAccess-%3Edb%3A%20DELETE%20auth%0ADataAccess-%3Edb%3A%20DELETE%20game%0ADataAccess-%3Edb%3A%20DELETE%20user%0Aend%0A```
